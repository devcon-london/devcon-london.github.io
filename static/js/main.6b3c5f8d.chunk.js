(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){e.exports=a(297)},140:function(e,t,a){},277:function(e,t,a){},295:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(23),o=a.n(r),l=(a(140),a(30)),s=a(28),c=a(134),u=a.n(c),d=a(26),m=a(18),h=a(19),p=a(21),b=a(20),g=a(22),v=a(34),f=a(117),E=a(5),w=a.n(E),y=a(127),O=a.n(y),k=a(82),j=a.n(k),S=a(130),C=a.n(S),A=a(50),B=a.n(A),L=a(128),U=a.n(L),x=a(129),N=a.n(x),I=a(131),D=a.n(I),R=a(132),F=a.n(R),W={submissions:"submissions",members:"members",advertisers:"advertisers",rejects:"rejects",roles:"roles"},G=240,T="You do not have enough rights to access this section",M=a(118),P=a.n(M),V=a(119),_=a.n(V),z=a(120),H=a.n(z),Q=a(6),Y=a.n(Q),Z=a(49),J=a.n(Z),$=a(33),K=a(17),q=a.n(K),X={UserLoggedIn:"USER_LOGGED_IN",UserLoggedOut:"USER_LOGGED_OUT"};var ee=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).authSuccess=function(e){var t=Object($.a)(a).props;console.log("auth success",e);var n=e.user,i=e.credential.accessToken;t.onLogin({user:n,token:i})},a.authError=function(e){console.log("auth error",e)},a.ghSignIn=function(){var e=Object($.a)(a).auth,t=new window.firebase.auth.GithubAuthProvider;t.addScope("read:org"),e.signInWithPopup(t).then(a.authSuccess).catch(a.authError)},a.signOut=function(){a.auth.signOut()};var n=window.firebase.auth;return a.auth=n(),a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.auth,t=this.props;e.onAuthStateChanged(function(e){e?t.onLogin({user:e}):t.onLogout()})}},{key:"render",value:function(){var e=this.props.user.displayName;return i.a.createElement(i.a.Fragment,null,e?i.a.createElement(q.a,{onClick:this.signOut},"SignOut"):i.a.createElement(q.a,{onClick:this.ghSignIn},"Github SignIn"))}}]),t}(i.a.Component);var te=Object(s.b)(function(e){return{user:e.user}},function(e){return{onLogin:function(t){var a;e((a=t,{type:X.UserLoggedIn,data:a}))},onLogout:function(){e({type:X.UserLoggedOut})}}})(ee),ae=Object(d.withStyles)(function(e){return{grow:{flexGrow:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(G,"px)"),marginLeft:G,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:0,marginRight:0},hide:{display:"none"},content:Object(v.a)({paddingLeft:10*e.spacing.unit,paddingRight:10*e.spacing.unit},e.breakpoints.down("sm"),{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit}),devconLogo:{backgroundImage:"url('".concat("","/img/devcon.london.png')"),width:"48px",height:"48px",backgroundRepeat:"no-repeat"}}},{withTheme:!0})(function(e){var t=e.classes,a=e.drawerOpen,n=e.handleDrawer;return i.a.createElement(P.a,{color:"default",className:w()(t.appBar,Object(v.a)({},t.appBarShift,a))},i.a.createElement(_.a,{disableGutters:!a,className:t.content},i.a.createElement(Y.a,{variant:"h6",className:t.grow},i.a.createElement(B.a,{"aria-label":"Open drawer",onClick:n,className:w()(t.menuButton,a&&t.hide)},i.a.createElement(H.a,null)),i.a.createElement(J.a,{component:l.b,to:"/"},i.a.createElement("span",{className:t.devconLogo}))),i.a.createElement(te,null)))}),ne=a(39),ie=function(){return i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h2",gutterBottom:!0},"Welcome."),i.a.createElement(Y.a,{variant:"h6",gutterBottom:!0},"Q: What is Devcon.London?"),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"A: Devcon.London is an invitation-only community of developers."),i.a.createElement(Y.a,{variant:"h6",gutterBottom:!0},"Q: How do I get in?"),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"A: You should know someone who is already in and willing to invite you."),i.a.createElement(Y.a,{variant:"h6",gutterBottom:!0},"Q: Why is this community so private?"),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"A: Because we believe that keeping strong relationships between our members is healthy and granting access on an invite-basis is a way of doing so. Also, we can guarantee privacy for our members and avoid unsolicited contacts from people who are not interested in the community."),i.a.createElement(Y.a,{variant:"h6",gutterBottom:!0},"Q: OK, I have an invite, how do I get in now?"),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"A: Login using your Github account, then head to the subscribe page and fill the form. One of the admins will review your submission and let you in."))},re=function(){return i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h4",gutterBottom:!0},"Privacy."),i.a.createElement("p",null,"All data is stored on Firebase, and only authenticated users can access it. Only members can see all other members' data."),i.a.createElement("p",null,"Also, we only use cookies for the Google Analytics tracker."),i.a.createElement(Y.a,{variant:"h4",gutterBottom:!0},"Code of conduct."),i.a.createElement("p",null,"Please refer to the guidelines received when you joined the group."))},oe=a(86),le=a.n(oe),se=a(126),ce=a.n(se),ue=a(85),de=a.n(ue),me=a(81),he=a.n(me),pe=a(80),be=a.n(pe),ge=a(29),ve={validName:function(e){return/[\w]+[ ][\w]+/.exec(e)?void 0:"enter a valid name + surname without special characters"},validCompany:function(e){return e&&e.length>2?void 0:"at least 3 characters for a valid company name"},validRole:function(e){return e&&e.length>2?void 0:"at least 3 characters for a valid role"},validBio:function(e){var t=e?100-e.length:100,a=t>0?"(".concat(t," to go)"):"",n="at least 100 characters for a valid bio ".concat(a);return e&&t<1?void 0:n},validGithub:function(e){return/https:\/\/github\.com\/[A-z0-9_-]+\//.exec(e)?void 0:"valid Github url: https://github.com/username/"},validTwitter:function(e){return/https:\/\/twitter\.com\/[A-z0-9_]+\//.exec(e)?void 0:"valid Twitter url: https://twitter.com/username/"},validLinkedIn:function(e){return/https:\/\/www\.linkedin\.com\/in\/[A-z0-9_-]+\//.exec(e)?void 0:"valid LinkedIn url: https://www.linkedin.com/in/username/"},validEmail:function(e){return/^([a-zA-Z0-9_\-.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.exec(e)?void 0:"enter a valid email address"}},fe=a(124),Ee=a(125),we=a.n(Ee),ye=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).handleChange=function(e){var t=Object($.a)(a).props;t.fieldApi.setValue(e.target.value),t.onChange&&t.onChange(e)},a.handleBlur=function(e){var t=Object($.a)(a).props;t.fieldApi.setTouched(!0),t.onBlur&&t.onBlur(e)},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props;return e.fieldState!==a.fieldState||t!==this.state}},{key:"render",value:function(){var e=this.props,t=(e.field,e.fieldState),a=(e.fieldApi,e.onChange,e.onBlur,e.initialValue,e.forwardedRef,e.className,e.setFocus,e.children,e.InputProps,e.validate,Object(fe.a)(e,["field","fieldState","fieldApi","onChange","onBlur","initialValue","forwardedRef","className","setFocus","children","InputProps","validate"])),n=t.value,r=t.error;return i.a.createElement(we.a,Object.assign({},a,{value:n||0===n?n:"",onChange:this.handleChange,onBlur:this.handleBlur,error:!!r,helperText:r}))}}]),t}(i.a.Component),Oe=Object(ge.c)(ye),ke=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ge.b,{field:"uid",id:"uid",hidden:!0}),i.a.createElement(Oe,{field:"name",id:"name",label:"Name",fullWidth:!0,validateOnChange:!0,validate:ve.validName}),i.a.createElement(Oe,{field:"github",id:"github",label:"Github URL",fullWidth:!0,validateOnChange:!0,validate:ve.validGithub}),i.a.createElement(Oe,{field:"twitter",id:"twitter",label:"Twitter URL",fullWidth:!0,validateOnChange:!0,validate:ve.validTwitter}),i.a.createElement(Oe,{field:"linkedin",id:"linkedin",label:"LinkedIn URL",fullWidth:!0,validateOnChange:!0,validate:ve.validLinkedIn}),i.a.createElement(Oe,{field:"email",id:"email",label:"Email",fullWidth:!0,validateOnChange:!0,validate:ve.validEmail}),i.a.createElement(Oe,{field:"role",id:"role",label:"Role",fullWidth:!0,validateOnChange:!0,validate:ve.validRole}),i.a.createElement(Oe,{field:"bio",id:"bio",label:"Short Bio",fullWidth:!0,multiline:!0,rows:"4",validateOnChange:!0,validate:ve.validBio}))},je=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ge.b,{field:"uid",id:"uid",hidden:!0}),i.a.createElement(Oe,{field:"name",id:"name",label:"Name",fullWidth:!0,validateOnChange:!0,validate:ve.validName}),i.a.createElement(Oe,{field:"email",id:"email",label:"Email",fullWidth:!0,validateOnChange:!0,validate:ve.validEmail}),i.a.createElement(Oe,{field:"company",id:"company",label:"Company",fullWidth:!0,validateOnChange:!0,validate:ve.validCompany}),i.a.createElement(Oe,{field:"role",id:"role",label:"Role",fullWidth:!0,validateOnChange:!0,validate:ve.validRole}),i.a.createElement(Oe,{field:"linkedin",id:"linkedin",label:"LinkedIn URL",fullWidth:!0,validateOnChange:!0,validate:ve.validLinkedIn}))},Se=(a(277),window.db),Ce=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={submitted:!1,applicant:W.members},a.setFormApi=function(e){a.formApi=e},a.submitForm=function(){var e=a.formApi.getState(),t=["referrer","name","role","email","linkedin"].reduce(function(t,a){return t&&e.touched[a]},!0);if(!e.invalid&&!e.pristine&&t){var n=a.props.user,i=a.state.applicant;a.formApi.setValue("uid",n.uid),a.formApi.setValue("date",new Date),a.formApi.setValue("applicant",i),Se.collection(W.submissions).doc(n.uid).set(e.values).then(function(){a.setState({submitted:!0})}).catch(function(e){console.log("error writing submission",e)})}},a.setApplicant=function(e){return a.setState({applicant:e.target.value})},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=null;if(e.submitted)t=i.a.createElement("p",null,"Thank you!");else{var a={members:i.a.createElement(ke,null),advertisers:i.a.createElement(je,null)};t=i.a.createElement(ge.a,{className:"SubscriptionForm",id:"subscription-form",getApi:this.setFormApi,onSubmit:this.submitForm},i.a.createElement(ge.b,{field:"date",id:"date",hidden:!0}),i.a.createElement(ge.b,{field:"applicant",id:"applicant",hidden:!0}),i.a.createElement(he.a,{component:"fieldset"},i.a.createElement(be.a,{component:"legend"},"Applicant Type"),i.a.createElement(ce.a,{"aria-label":"Applicant",name:"applicant",value:e.applicant,onChange:this.setApplicant},i.a.createElement(de.a,{value:W.members,control:i.a.createElement(le.a,null),label:"Member"}),i.a.createElement(de.a,{value:W.advertisers,control:i.a.createElement(le.a,null),label:"Advertiser"}))),i.a.createElement(Oe,{field:"referrer",id:"referrer",label:"Introduced by (who told you about this)",fullWidth:!0,validateOnChange:!0,validate:ve.validName}),a[e.applicant],i.a.createElement(q.a,{onClick:this.submitForm},"Submit"))}return t}}]),t}(i.a.Component),Ae=window.db,Be=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!0,membership:null,submission:null},a.fetchUserMembership=function(e){return Ae.collection(W.members).doc(e).get()},a.fetchUserSubmission=function(e){return Ae.collection(W.submissions).doc(e).get()},a.retrieveData=function(e){a.setState({loading:!0}),a.fetchUserMembership(e).then(function(e){e.exists&&(console.log("yoohoo you are a member!",e.data()),a.setState({loading:!1,membership:e.data()}))}).catch(function(t){console.log("error fetching membership",t),a.fetchUserSubmission(e).then(function(e){e.exists?(console.log("you have a pending submission",e.data()),a.setState({loading:!1,submission:e.data()})):(console.log("no pending submission"),a.setState({loading:!1}))}).catch(function(e){console.log("error fetching submission",e),a.setState({loading:!1})})})},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;null!==e.uid&&this.retrieveData(e.uid)}},{key:"componentDidUpdate",value:function(e){var t=this.props.user;t.uid!==e.user.uid&&null!==t.uid&&this.retrieveData(t.uid)}},{key:"render",value:function(){var e=this.props.user,t=this.state,a=t.membership,n=t.submission,r=t.loading,o=null;return o=null===e.uid?i.a.createElement(ne.a,{to:"/"}):!0===r?i.a.createElement("p",null,"loading..."):null===a?null===n?i.a.createElement(Ce,{user:e}):i.a.createElement("p",null,"You have a pending submission, good things come to those who wait."):i.a.createElement("p",null,"You are already a Devcon member, do not need to subscribe again"),i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h4",gutterBottom:!0},"Subscribe."),o)}}]),t}(i.a.Component),Le=Object(s.b)(function(e){return{user:e.user}})(Be),Ue=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Events"),i.a.createElement("p",null,"accessible to members only"),i.a.createElement("p",null,"pull stuff from google calendar maybe?"))},xe=a(47),Ne=a.n(xe),Ie=a(38),De=a.n(Ie),Re=window.db,Fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={members:[],loading:!0,editing:!1,error:null},a.setFormApi=function(e){a.formApi=e},a.submitForm=function(){var e=a.formApi.getState();e.invalid||Re.collection(W.members).doc(e.values.uid).get().then(function(t){var n=Object.assign({},t.data(),e.values);Re.collection(W.members).doc(n.uid).set(n).then(function(){a.setState({error:null,editing:!1})}).catch(function(e){a.setState({error:"Error storing data",editing:!1})})}).catch(function(e){a.setState({error:"Error fetching your personal data",editing:!1})})},a.getUserForm=function(e){return i.a.createElement(ge.a,{className:"SubscriptionForm",id:"subscription-form",getApi:a.setFormApi,initialValues:e,key:e.uid},i.a.createElement(ke,null),i.a.createElement(q.a,{onClick:a.submitForm},"Submit"),i.a.createElement(q.a,{onClick:function(){a.setState({editing:!1})}},"Cancel"))},a.getUserCard=function(e,t,n){return i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h5"},"".concat(e.name,", ").concat(e.role)),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"member since ".concat(e.adminDate)),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},e.bio),i.a.createElement(Y.a,{variant:"body1"},t?i.a.createElement(q.a,{className:n.linkButton,variant:"contained",color:"primary",onClick:function(){return a.setState({editing:!0})}},"edit"):"",i.a.createElement(q.a,{className:n.linkButton,variant:"contained",href:e.github},"Github"),i.a.createElement(q.a,{className:n.linkButton,variant:"contained",href:e.linkedin},"LinkedIn"),i.a.createElement(q.a,{className:n.linkButton,variant:"contained",href:e.twitter},"Twitter")))},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==this.props.user.uid&&(this.membersUnsubscribe=Re.collection(W.members).onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({members:a,loading:!1,error:null})},function(t){e.setState({members:[],loading:!1,error:T})}))}},{key:"componentWillUnmount",value:function(){this.membersUnsubscribe&&this.membersUnsubscribe()}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.classes,r=this.state,o=r.members,l=r.loading,s=r.editing,c=r.error,u=null;return u=null===a.uid?i.a.createElement(ne.a,{to:"/"}):l?i.a.createElement("p",null,"loading..."):null!==c?i.a.createElement("p",null,c):o.length?i.a.createElement("div",{className:n.root},i.a.createElement(Ne.a,{container:!0,spacing:24},o.map(function(t){var r=null;if(!0===s&&t.uid===a.uid)r=e.getUserForm(t);else{var o=t.uid===a.uid;r=e.getUserCard(t,o,n)}return i.a.createElement(Ne.a,{item:!0,xs:12,sm:6,key:t.uid},i.a.createElement(De.a,{className:n.paper},r))}))):i.a.createElement("p",null,"these are not the droids you are looking for!"),i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h4",gutterBottom:!0},"Members."),u)}}]),t}(i.a.Component),We=Object(d.withStyles)(function(e){return{root:{flexGrow:1},linkButton:{marginRight:"5px"},paper:{padding:2*e.spacing.unit}}})(Fe),Ge=Object(s.b)(function(e){return{user:e.user}})(We),Te=window.db,Me=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={advertisers:[],error:null},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==this.props.user.uid&&(this.advertisersUnsubscribe=Te.collection(W.advertisers).onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({advertisers:a,error:null})},function(t){e.setState({advertisers:[],error:T})}))}},{key:"componentWillUnmount",value:function(){this.advertisersUnsubscribe&&this.advertisersUnsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.classes,n=this.state,r=n.advertisers,o=n.error,l=null;return l=null===t.uid?i.a.createElement(ne.a,{to:"/"}):r.length?i.a.createElement("div",null,i.a.createElement(Ne.a,{container:!0,spacing:24},r.map(function(e){return i.a.createElement(Ne.a,{item:!0,xs:12,sm:6,key:e.uid},i.a.createElement(De.a,{className:a.paper},i.a.createElement(Y.a,{variant:"h5"},"".concat(e.name,", ").concat(e.role," at ").concat(e.company)),i.a.createElement(Y.a,{variant:"body1"},"email: ".concat(e.email,", joined ").concat(e.adminDate)),i.a.createElement(q.a,{href:e.linkedin},"linkedin")))}))):o?i.a.createElement("p",null,o):i.a.createElement("p",null,"nobody here..."),i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h4",gutterBottom:!0},"Advertisers."),l)}}]),t}(i.a.Component),Pe=Object(d.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit}}})(Me),Ve=Object(s.b)(function(e){return{user:e.user}})(Pe),_e=window.db,ze=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={submissions:[],error:null},a.approveSubmission=function(e){a.handleSubmission(e.target.dataset.uid,!0)},a.rejectSubmission=function(e){a.handleSubmission(e.target.dataset.uid,!1)},a.getClickHandler=function(e,t){return function(){return a.handleSubmission(e,t)}},a.handleSubmission=function(e,t){var n=a.props.user;_e.collection(W.submissions).doc(e).get().then(function(i){var r=Object.assign({adminUid:n.uid,adminDate:(new Date).toISOString()},i.data()),o=W.rejects;t&&(o=W[r.applicant]),_e.collection(o).doc(e).set(r).then(function(){_e.collection(W.submissions).doc(e).delete().then(function(){a.setState({error:null})}).catch(function(e){console.log("error deleting submission",e),a.setState({error:"error deleting submission"})})}).catch(function(e){console.log("error setting submission",o,e),a.setState({error:"error setting submission"})})}).catch(function(t){console.log("error retrieving submission",e,t),a.setState({error:"error retrieving submission"})})},a.getFields=function(e){var t=i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"introduced by ".concat(e.referrer," on ").concat(e.date));return{members:i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,{variant:"h5"},"Community Membership for ".concat(e.name,", ").concat(e.role)),t,i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"Bio: ".concat(e.bio)),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},i.a.createElement(q.a,{href:e.github},"Github"),i.a.createElement(q.a,{href:e.linkedin},"LinkedIn"),i.a.createElement(q.a,{href:e.twitter},"Twitter"))),advertisers:i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,{variant:"h5"},"Advertising Membership for ".concat(e.name)),t,i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},"Role ".concat(e.role,". Company: ").concat(e.company)),i.a.createElement(Y.a,{variant:"body1",gutterBottom:!0},i.a.createElement(q.a,{href:e.linkedin},"LinkedIn"),i.a.createElement(q.a,{href:"mailto:".concat(e.email)},e.email)))}[e.applicant]},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==this.props.user.uid&&(this.submissionsUnsubscribe=_e.collection(W.submissions).onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({submissions:a,error:null})},function(t){e.setState({submissions:[],error:T})}))}},{key:"componentWillUnmount",value:function(){this.submissionsUnsubscribe&&this.submissionsUnsubscribe()}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,n=a.submissions,r=a.error,o=null;return o=null===t.uid?i.a.createElement(ne.a,{to:"/"}):n.length?i.a.createElement("div",null,n.map(function(t){return i.a.createElement("div",{key:t.uid},e.getFields(t),[{label:"Accept",approval:!0},{label:"Reject",approval:!1}].map(function(a){return i.a.createElement(q.a,{key:a.label,"data-uid":t.uid,onClick:e.getClickHandler(t.uid,a.approval)},a.label)}))})):r?i.a.createElement("p",null,r):i.a.createElement("p",null,"no pending submissions!"),i.a.createElement("div",null,i.a.createElement(Y.a,{variant:"h4",gutterBottom:!0},"Submissions."),o)}}]),t}(i.a.Component),He=Object(s.b)(function(e){return{user:e.user}})(ze),Qe=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ne.b,{path:"/",exact:!0,component:ie}),i.a.createElement(ne.b,{path:"/terms",component:re}),i.a.createElement(ne.b,{path:"/subscribe",component:Le}),i.a.createElement(ne.b,{path:"/events",component:Ue}),i.a.createElement(ne.b,{path:"/members",component:Ge}),i.a.createElement(ne.b,{path:"/advertisers",component:Ve}),i.a.createElement(ne.b,{path:"/submissions",component:He}))},Ye=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,r=this.state.open;return i.a.createElement("div",{className:a.root},i.a.createElement(ae,{drawerOpen:r,handleDrawer:this.handleDrawerOpen}),i.a.createElement(O.a,{className:a.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:a.drawerPaper}},i.a.createElement("div",{className:a.drawerHeader},i.a.createElement(B.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?i.a.createElement(U.a,null):i.a.createElement(N.a,null))),i.a.createElement(C.a,null),i.a.createElement(j.a,null,[{to:"/terms",text:"Terms"},{to:"/subscribe",text:"Subscribe"},{to:"/members",text:"Members"},{to:"/advertisers",text:"Advertisers"},{to:"/submissions",text:"Submissions"}].map(function(t){return i.a.createElement(D.a,{button:!0,key:t.text,component:l.b,onClick:function(){e.handleDrawerClose()},to:t.to},i.a.createElement(F.a,{primary:t.text}))}))),i.a.createElement("main",{className:w()(a.content,Object(v.a)({},a.contentShift,r))},i.a.createElement(Qe,null)))}}]),t}(i.a.Component),Ze=Object(d.withStyles)(function(e){var t;return{root:{display:"flex"},drawer:{width:G,flexShrink:0},drawerPaper:{width:G},drawerHeader:Object(f.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:(t={flexGrow:1,height:"100vh",overflow:"auto",color:"white",paddingTop:"84px",paddingLeft:10*e.spacing.unit,paddingRight:10*e.spacing.unit},Object(v.a)(t,e.breakpoints.down("sm"),{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit}),Object(v.a)(t,"transition",e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),Object(v.a)(t,"marginLeft",-G),t),contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(Ye),Je=a(46),$e=a(133),Ke={uid:null,displayName:null,photoURL:null,token:null,userObj:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.UserLoggedIn:return console.log("reducer user loggedin",t.data),Object.assign({},{uid:t.data.user.uid,displayName:t.data.user.displayName,photoURL:t.data.user.photoURL,token:t.data.token,userObj:t.data.user});case X.UserLoggedOut:return Object.assign({},Ke);default:return e}},Xe=Object(Je.c)({user:qe}),et=Object(Je.d)(Xe,Object(Je.a)($e.a)),tt=(a(295),Object(d.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"dark"}})),at=function(){return i.a.createElement(s.a,{store:et},i.a.createElement(l.a,null,i.a.createElement(d.MuiThemeProvider,{theme:tt},i.a.createElement(u.a,null),i.a.createElement(Ze,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[135,1,2]]]);
//# sourceMappingURL=main.6b3c5f8d.chunk.js.map